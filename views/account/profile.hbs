<section class="container">
  {{#if flash}}
  {{#each flash.error}}
  <div class="alert alert-danger" role="alert">
    {{this}}
  </div>
  {{/each}}
  {{#each flash.success}}
  <div class="alert alert-success" role="alert">
    {{this}}
  </div>
  {{/each}}
  {{/if}}
  <form class="paper" data-parsley-validate="" method="POST" action="/profile">
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Tên tài khoản</label>
        <input type="text" id="username" name="username" placeholder="Tên tài khoản" class="form-control"
          value={{user.username}} disabled>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Chứng minh nhân dân</label>
        <input type="text" name="ID" placeholder="Chứng minh nhân dân" class="form-control" value="{{user.ID}}"
          required="" disabled>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Họ tên</label>
        <input type="text" name="fullname" placeholder="Họ tên" class="form-control" value="{{user.fullname}}"
          required="" disabled>
      </div>
    </div>
    <div class="form-group d-flex align-items-center">
      <label class="col-3">Giới tính</label>
      {{#if user.gender}}
      <div class="form-check col-3">
        <input class="form-check-input" type="radio" name="gender" value="0" disabled>
        <label class="form-check-label">
          Nam
        </label>
      </div>
      <div class="form-check col-3">
        <input class="form-check-input" type="radio" name="gender" value="1" disabled checked>
        <label class="form-check-label">
          Nữ
        </label>
      </div>
      {{else}}
      <div class="form-check col-3">
        <input class="form-check-input" type="radio" name="gender" value="0" disabled checked>
        <label class="form-check-label">
          Nam
        </label>
      </div>
      <div class="form-check col-3">
        <input class="form-check-input" type="radio" name="gender" value="1" disabled>
        <label class="form-check-label">
          Nữ
        </label>
      </div>
      {{/if}}
    </div>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Email</label>
        <input type="email" id="email" name="email" placeholder="Email" class="form-control" value="{{user.email}}"
          data-parsley-trigger="change" placeholder="Nhập email" data-parsley-error-message="Email không hợp lệ"
          required="" disabled>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Số điện thoại</label>
        <input type="text" id="phone" name="phone" placeholder="Số điện thoại" class="form-control"
          value="{{user.phone}}" data-parsley-type="digits" data-parsley-minlength="10" data-parsley-maxlength="10"
          data-parsley-trigger="keyup" data-parsley-error-message="Số điện thoại không hợp lệ." disabled>
      </div>
    </div>
    <hr>
    <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-link" onclick="changePassword()">Đổi mật khẩu</button>
      <div id="changeAccountInfo">
        <button type="button" class="btn btn-warning" onclick="changeAccountInfo()">Thay đổi thông tin</button>
      </div>
      <div id="confirmChangeAccountInfo" hidden>
        <button type="submit" class="btn btn-warning">Xác nhận thay đổi</button>
        <button type="reset" class="btn btn-default" onclick="quitAccountInfo()">Hủy</button>
      </div>
    </div>
  </form>
  <br>
  <form id="changePasswordForm" class="paper" data-parsley-validate="" method="POST" action="/api/updatePassword"
    hidden>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Mật khẩu cũ</label>
        <input type="password" name="oldpass" class="form-control" data-parsley-minlength="8"
          data-parsley-error-message="Mật khẩu phải chứa ít nhất 8 ký tự" required="">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Mật khẩu mới</label>
        <input type="password" name="password" id="password" class="form-control" data-parsley-minlength="8"
          data-parsley-error-message="Mật khẩu phải chứa ít nhất 8 ký tự" required="">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <label class="col-3">Nhập lại mật khẩu mới</label>
        <input type="password" name="repass" class="form-control" data-parsley-equalto="#password" required=""
          data-parsley-error-message="Mật khẩu không trùng khớp.">
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <button type="submit" class="btn btn-warning">Đổi mật khẩu</button>
      <button type="reset" class="btn" onclick="cancelChangePassword()">Hủy</button>
    </div>
  </form>
</section>